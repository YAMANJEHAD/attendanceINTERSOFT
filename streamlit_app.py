import streamlit as st
import os

# Ø¥Ø¹Ø¯Ø§Ø¯ ØµÙØ­Ø© Streamlit
st.set_page_config(page_title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„", layout="centered")
st.markdown("<h1 style='text-align: center;'>ğŸ•’ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ±</h1>", unsafe_allow_html=True)

# Ø²Ø± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ØºØ© ÙÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
lang = st.selectbox("ğŸŒ Language / Ø§Ù„Ù„ØºØ©", ["Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "English"], key="lang", index=0)

# Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
users = {
    "MOH": "Mm123456789",  # Ø§Ù„Ù…Ø´Ø±Ù
    "user1": "1234",
    "user2": "abcd"
}

# Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
username = st.text_input("ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…")
password = st.text_input("ğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", type="password")

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¥Ù† Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
os.makedirs("uploaded_files", exist_ok=True)

if st.button("ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"):
    if username in users and users[username] == password:
        st.session_state.username = username
        st.session_state.language = lang

        if username == "MOH":
            st.switch_page("pages/admin_dashboard.py")
        else:
            st.switch_page("pages/dashboard.py")
    else:
        st.error("âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©")
